<!DOCTYPE html>
<html>
<head>
	<title>Promise Implementations</title>
</head>
<body>

<script>
	function loadImage(url) {
		var promise = new Promise(
			function resolver(resolve,reject) {
				var img = new Image();
				img.src = url;

				img.onload = function () {
					resolve(img);
				};

				img.onerror = function (e) {
					reject(e);
				};
			}
		);
		return promise;
	}

	loadImage('promises.png').then(function (img) {
		document.body.appendChild(img);
	}).catch(function (e) {
		console.log('Error!!!!!!');
		console.log(e);
	});
</script>
</body>
</html>

